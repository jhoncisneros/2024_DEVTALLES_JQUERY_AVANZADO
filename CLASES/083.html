<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>100. Detectar rostros en jQuery</title>

    <!-- Estilo del Boostrap 4 -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/estilo.css">

    <style media="screen">
      .foto-container{
        position: relative;
        width: 600px;
      }

      .foto{
        /*width: 100%;*/
      }

      .cara{
        position: absolute;
        border: 2px solid white;
      }

    </style>

  </head>
  <body>

    <h1>Evento DOM listo</h1>
    <p>
      Normalmente, desearemos manipular el DOM (Document Object Model), cuando la página este lista y completamente creada.
    </p>


    <div class="foto-container">
<!--      <img id="foto" src="assets/img/Katy_Perry.jpg" class="foto">-->
      <img id="foto" src="assets/img/foto.jpg" class="foto">
    </div>

    <button type="button">Localizar Caras</button>

    <!-- Librería de jQuery -->
    <script src="assets/libs/jquery-3.min.js" charset="utf-8"></script>
    <script src="assets/libs/jquery.facedetection.min.js" charset="utf-8"></script>

    <script>

      $('#foto').faceDetection({
        complete: function (caras) {
          // console.log(caras);
          for (var i=0; i<caras.length; i++){
            var rostro = caras[i];
            // console.log(rostro);

            $('<div>', {
              'class': 'cara',
              'css': {
                'left': rostro.x * rostro.scaleX + 'px',
                'top': rostro.y * rostro.scaleY + 'px',
                'width': rostro.width * rostro.scaleX + 'px',
                'height': rostro.height * rostro.scaleY + 'px'
              }
            }).insertAfter(this);
          }
        }
      });

      // $('button').click(function(){
      //
      //   $('#foto').faceDetection({
      //     complete: function (caras) {
      //       // console.log(caras);
      //       for (var i=0; i<caras.length; i++){
      //         var rostro = caras[i];
      //         // console.log(rostro);
      //
      //         $('<div>', {
      //           'class': 'cara',
      //           'css': {
      //             'left': rostro.x * rostro.scaleX + 'px',
      //             'top': rostro.y * rostro.scaleY + 'px',
      //             'width': rostro.width * rostro.scaleX + 'px',
      //             'height': rostro.height * rostro.scaleY + 'px'
      //           }
      //         }).insertAfter(this);
      //       }
      //     }
      //   });
      //
      // });


    </script>

  </body>
</html>
